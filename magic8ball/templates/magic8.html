{% extends "base.html" %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/vex.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/vex-theme-wireframe.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('magic8ball.static', filename='css/magic8.css') }}" />
    <script type="text/javascript" src="{{ url_for('static', filename='js/lib/ethereumjs-tx-1.3.3.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/lib/vex.combined.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('magic8ball.static', filename='js/magic8.js') }}"></script>
{% endblock head %}

{% block topbar %}<div id="network">No network</div>{% endblock topbar %}

{% block body %}
<script>
    var podoTestInfo = {{ podoTestInfo|safe }};
</script>
<div id="left">
    <div id="title">Magic 8 Ball</div>
    <div id="subtitle">Answers from an oracle, forever enshrined in the blockchain. {{ podoTestContractAddress }}</div>
    <div id="ball"><div id="ball_outer"></div><div id="ball_inner"></div></div>
    <div class="query_title">Submit your question<span id="cost"></span>!</div>
    <form id="question" action="url_for('.api_question')" method="POST">
        <input type="text" name="question" size="60" placeholder="Question" /><br />
        <button class="go">GO</button>
    </form>
    <div class="read_result"></div>
</div>
<div id="right">
    <div id="events">
    History
    {% for event in events %}
        <div class="event">
            <div class="icon {{ event['data']['status'] }}"></div>
            <div class="info">
                <div class="question">Q: {{ event["data"]["question"] }}</div>
                
                <div class="answer">
                    {% if event["data"]["answer"] %}
                        A: {{ event["data"]["answer"] }}
                    {% else %}
                        We may never know!
                    {% endif %}
                </div>
            </div>
        </div>
    {% endfor %}
    </div>
</div>
{% endblock body %}